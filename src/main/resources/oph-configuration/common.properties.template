#
# TÄHÄN TIEDOSTOON EI SAA TALLENTAA YMPÄRISTÖKOHTAISIA ARVOJA MUUTOIN KUIN MUUTTUJINA!!!
#
# Tämä tiedosto toimii pohjana oph-configuration/common.properties tiedostolle,
# joka asettaa sovelluksen ympäristökohtaiset arvot.
#

# Aseta vähintään nämä ympäristökohtaiset arvot
activemq.brokerurl={{activemq_brokerurl}}
activemq.jmxurl={{activemq_jmxurl}}
auth.mode={{auth_mode}}
env.loglevel={{env_loglevel}}
host.cas={{host_cas}}
host.ilb={{host_ilb}}
host.alb={{host_alb}}
host.virkailija={{host_virkailija}}
kela.ftp.username={{kela_ftp_username}}
kela.ftp.password={{kela_ftp_password}}
kela.ftp.parameters={{kela_ftp_parameters}}
kela.ftp.host={{kela_ftp_host}}
kela.ftp.port={{kela_ftp_port}}
kela.ftp.protocol={{kela_ftp_protocol}}
kela.ftp.path={{kela_ftp_path}}
mongodb.virkailija.uri=mongodb://{{mongodb_virkailija_auth}}@{{mongodb_virkailija_host}}:{{mongodb_virkailija_port}}
server.name={{ansible_hostname}}
valintalaskentakoostepalvelu.app.username.to.haku={{valintalaskentakoostepalvelu_app_username_to_haku}}
valintalaskentakoostepalvelu.app.password.to.haku={{valintalaskentakoostepalvelu_app_password_to_haku}}
valintalaskentakoostepalvelu.app.username.to.ataru={{valintalaskentakoostepalvelu_app_username_to_ataru}}
valintalaskentakoostepalvelu.app.password.to.ataru={{valintalaskentakoostepalvelu_app_password_to_ataru}}
valintalaskentakoostepalvelu.app.username.to.koodisto={{valintalaskentakoostepalvelu_app_username_to_koodisto}}
valintalaskentakoostepalvelu.app.password.to.koodisto={{valintalaskentakoostepalvelu_app_password_to_koodisto}}
valintalaskentakoostepalvelu.app.username.to.organisaatio={{valintalaskentakoostepalvelu_app_username_to_organisaatio}}
valintalaskentakoostepalvelu.app.password.to.organisaatio={{valintalaskentakoostepalvelu_app_password_to_organisaatio}}
valintalaskentakoostepalvelu.app.username.to.sijoittelu={{valintalaskentakoostepalvelu_app_username_to_sijoittelu}}
valintalaskentakoostepalvelu.app.password.to.sijoittelu={{valintalaskentakoostepalvelu_app_password_to_sijoittelu}}
valintalaskentakoostepalvelu.app.username.to.tarjonta={{valintalaskentakoostepalvelu_app_username_to_tarjonta}}
valintalaskentakoostepalvelu.app.password.to.tarjonta={{valintalaskentakoostepalvelu_app_password_to_tarjonta}}
valintalaskentakoostepalvelu.app.username.to.valintaperusteet={{valintalaskentakoostepalvelu_app_username_to_valintaperusteet}}
valintalaskentakoostepalvelu.app.password.to.valintaperusteet={{valintalaskentakoostepalvelu_app_password_to_valintaperusteet}}
valintalaskentakoostepalvelu.app.username.to.valintatieto={{valintalaskentakoostepalvelu_app_username_to_valintatieto}}
valintalaskentakoostepalvelu.app.password.to.valintatieto={{valintalaskentakoostepalvelu_app_password_to_valintatieto}}
valintalaskentakoostepalvelu.app.username.to.viestintapalvelu={{valintalaskentakoostepalvelu_app_username_to_viestintapalvelu}}
valintalaskentakoostepalvelu.app.password.to.viestintapalvelu={{valintalaskentakoostepalvelu_app_password_to_viestintapalvelu}}
valintalaskentakoostepalvelu.app.username.to.suoritusrekisteri={{valintalaskentakoostepalvelu_app_username_to_haku}}
valintalaskentakoostepalvelu.app.password.to.suoritusrekisteri={{valintalaskentakoostepalvelu_app_password_to_haku}}

# Oletusarvoja
activemq.queue.name.log.error=Sade.Log_Error
activemq.queue.name.log=Sade.Log
activemq.queue.name.mail=Sade.Email
activeMq.queueName.organisaatio=fi.vm.sade.organisaatio.service
activeMq.queueNameHaku=fi.vm.sade.tarjonta.haku.service
activeMq.queueNameTarjontaAdmin=fi.vm.sade.tarjonta.admin.service
activeMq.queueNameTarjontaPublic=fi.vm.sade.tarjonta.public.service
activeMq.targetDestination.learningopportunityprovider.public=fi.vm.sade.learningopportunityprovider.public.service
activeMq.targetDestination.organisaatio=fi.vm.sade.organisaatio.service
activeMq.targetDestinationAdmin.tarjonta=fi.vm.sade.tarjonta.admin.service
activeMq.targetDestinationPublic.tarjonta=fi.vm.sade.tarjonta.public.service
cas.callback.dokumenttipalvelu-service=http://{{ cluster_valinta_host | default("${server.name}") }}:{{ cluster_valinta_port | default("8309") }}/dokumenttipalvelu-service
cas.callback.seuranta-service=http://{{ cluster_valinta_host | default("${server.name}") }}:{{ cluster_valinta_port | default("8309") }}/seuranta-service
cas.callback.sijoittelu-service=http://{{ cluster_sijoittelu_service_host | default("${server.name}") }}:{{ cluster_sijoittelu_service_port | default("8309") }}/sijoittelu-service
cas.callback.valintalaskentakoostepalvelu=http://{{ cluster_valinta_host | default("${server.name}") }}:{{ cluster_valinta_port | default("8309") }}/valintalaskentakoostepalvelu
cas.callback.valintalaskenta-service=http://{{ cluster_valinta_host | default("${server.name}") }}:{{ cluster_valinta_port | default("8309") }}/valintalaskenta-laskenta-service
cas.callback.valintalaskenta-ui=http://{{ cluster_valinta_ui_host | default("${server.name}") }}:{{ cluster_valinta_ui_port | default("8309") }}/valintalaskenta-ui
cas.callback.valintaperusteet-service=http://{{ cluster_valintaperusteet_service_host | default("${server.name}") }}:{{ cluster_valintaperusteet_service_port | default("8309") }}/valintaperusteet-service
cas.callback.valintaperusteet-ui=http://{{ cluster_valinta_ui_host | default("${server.name}") }}:{{ cluster_valinta_ui_port | default("8309") }}/valintaperusteet-ui
cas.callback.valintarekisteri=http://{{ cluster_valintarekisteri_host | default("${server.name}") }}:{{ cluster_valintarekisteri_port | default("8309") }}/valintarekisteri
cas.callback.authentication-service=http://{{ cluster_authentication_host | default("${server.name}") }}:{{ cluster_authentication_port | default("8304") }}/authentication-service
cas.group-role-attribute=cn
cas.group-search-base=ou\=groups
cas.group-search-filter=(uniqueMember\={0})
cas.sendRenew=false
cas.user-search-base=ou\=people
cas.user-search-filter=(|(mail\={0})(uid\={0}))
cas.service.dokumenttipalvelu=https://${host.virkailija}/dokumenttipalvelu-service/j_spring_cas_security_check
cas.service.seuranta=https://${host.virkailija}/seuranta-service/j_spring_cas_security_check
cas.service.haku-service=https://${host.virkailija}/haku-app/j_spring_cas_security_check
cas.service.ataru=https://${host.virkailija}/lomake-editori/auth/cas
cas.service.koodisto-service=https://${host.virkailija}/koodisto-service/j_spring_cas_security_check
cas.service.organisaatio-service=https://${host.virkailija}/organisaatio-service/j_spring_cas_security_check
cas.service.ryhmasahkoposti-service=https://${host.virkailija}/ryhmasahkoposti-service/j_spring_cas_security_check
cas.service.valintalaskentakoostepalvelu=https://${host.virkailija}/valintalaskentakoostepalvelu
cas.service.valintalaskenta-service=https://${host.virkailija}/valintalaskenta-laskenta-service/j_spring_cas_security_check
cas.service.viestintapalvelu=https://${host.virkailija}/viestintapalvelu/j_spring_cas_security_check
cas.service.suoritusrekisteri=https://${host.virkailija}/suoritusrekisteri/j_spring_cas_security_check
cas.service.authentication-service=https://${host.virkailija}/authentication-service/j_spring_cas_security_check
cas.service.oppijanumerorekisteri-service=https://${host.virkailija}/oppijanumerorekisteri-service/j_spring_cas_security_check
dokumenttipalvelu.mongodb.dbname=dokumenttidb
dokumenttipalvelu.mongodb.uri= {{ mongodb_dokumenttidb_uri | default("${mongodb.virkailija.uri}") }}/${dokumenttipalvelu.mongodb.dbname}
flyway.initOnMigrate=true
koodi.public.webservice.url.backend=https://${host.virkailija}/koodisto-service/services/koodiService
koodisto.public.webservice.url.backend=https://${host.virkailija}/koodisto-service/services/koodistoService
jpa.schemaUpdate=validate
jpa.showSql=false
log4j.properties.file=${user.home.conf}/log4j.properties
oid.rest.url.backend=${host.ilb}/oid-service/rest/oid
oid.webservice.url.backend=${host.ilb}/services/oidService
root.organisaatio.oid=1.2.246.562.10.00000000001
user.home.conf=${user.home}/oph-configuration
web.url.cas=https\://${host.cas}/cas

valintalaskentakoostepalvelu.jatkuvasijoittelu.cron=0+*/15+*+*+*+?
valintalaskentakoostepalvelu.tarjonta.ajastinReitti.aktivoi=false
valintalaskentakoostepalvelu.tarjonta.ajastinReitti.cron=*/1+*+*+?+*+*
valintalaskentakoostepalvelu.valintaperusteService.url=https://${host.virkailija}/valintaperusteet-service/services/ws/valintaperusteService
valintalaskentakoostepalvelu.valintalaskentaService.url=https://${host.virkailija}/valintalaskenta-laskenta-service/services/valintalaskentaService
valintalaskentakoostepalvelu.valintaTulosService.url=https://${host.virkailija}/valintalaskenta-laskenta-service/services/valintatietoService
valintalaskentakoostepalvelu.sijoitteluService.url=https://${host.virkailija}/sijoittelu-service/services/sijoitteluService
valintalaskentakoostepalvelu.viestintapalvelu.url=https://${host.virkailija}/viestintapalvelu
valintalaskentakoostepalvelu.ryhmasahkoposti.url=https://${host.virkailija}/ryhmasahkoposti-service
valintalaskentakoostepalvelu.tarjontaService.url=https://${host.virkailija}/tarjonta-service/services/tarjontaPublicService
valintalaskentakoostepalvelu.organisaatioService.url=https://${host.virkailija}/organisaatio-service/services/organisaatioService
valintalaskentakoostepalvelu.organisaatioService.rest.url=https://${host.virkailija}/organisaatio-service/rest
valintalaskentakoostepalvelu.hakemusService.url=https://${host.virkailija}/haku-app/services/ws/hakemusService
valintalaskentakoostepalvelu.tarjonta.rest.url=https://${host.virkailija}/tarjonta-service/rest
valintalaskentakoostepalvelu.valintatulosservice.rest.url=${host.alb}/valinta-tulos-service
valintalaskentakoostepalvelu.oppijantunnistus.rest.url=https://${host.virkailija}/oppijan-tunnistus
valintalaskentakoostepalvelu.hakemus.rest.url=https://${host.virkailija}/haku-app
valintalaskentakoostepalvelu.authentication.rest.url=https://${host.virkailija}/authentication-service
valintalaskentakoostepalvelu.sijoittelu.rest.url=https://${host.virkailija}/sijoittelu-service/resources
valintalaskentakoostepalvelu.valintaperusteet-service.baseurl={{ valintalaskentakoostepalvelu_valintaperusteet_service_baseurl | default(host_ilb)}}
valintalaskentakoostepalvelu.valintalaskenta-laskenta-service.baseurl={{ valintalaskentakoostepalvelu_valintalaskenta_laskenta_service_baseurl | default(host_ilb)}}
valintalaskentakoostepalvelu.valintalaskenta.rest.url=${valintalaskentakoostepalvelu.valintalaskenta-laskenta-service.baseurl}/valintalaskenta-laskenta-service/resources
valintalaskentakoostepalvelu.koodiService.url=https://${host.virkailija}/koodisto-service/services/koodiService
valintalaskentakoostepalvelu.dokumenttipalvelu.rest.url=https://${host.virkailija}/dokumenttipalvelu-service/resources
valintalaskentakoostepalvelu.swagger.basepath=/valintalaskentakoostepalvelu/resources
valintalaskentakoostepalvelu.valintaperusteet.rest.url=${host.ilb}/valintaperusteet-service/resources
valintalaskentakoostepalvelu.parametriservice.rest.url=https://${host.virkailija}/ohjausparametrit-service/api
valintalaskentakoostepalvelu.valintaperusteet.ilb.url=${host.ilb}/valintaperusteet-service/resources
valintalaskentakoostepalvelu.maxWorkerCount={{valintalaskentakoostepalvelu_maxWorkerCount}}
valintalaskentakoostepalvelu.laskennan.splittaus={{valintalaskentakoostepalvelu_laskennan_splittaus}}
valintalaskentakoostepalvelu.koski.baseurl={{valintalaskentakoostepalvelu_koski_baseurl | default("https://${host.virkailija}")}}
valintalaskentakoostepalvelu.laskenta.koskesta.haettavat.hakukohdeoidit={{valintalaskentakoostepalvelu_laskenta_koskesta_haettavat_hakukohdeoidit | default("none")}}
valintalaskentakoostepalvelu.koski.username={{valintalaskentakoostepalvelu_koski_username | default("koostepalvelu2koski")}}
valintalaskentakoostepalvelu.koski.password={{valintalaskentakoostepalvelu_koski_password}}
valintalaskentakoostepalvelu.koski.max.oppijat.post.size={{valintalaskentakoostepalvelu_koski_max_oppijat_post_size | default("5000")}}
valintalaskentakoostepalvelu.ohjausparametrit.cache.ttl.minutes=30
valintalaskentakoostepalvelu.ohjausparametrit.request.timeout.seconds=20
valintalaskentakoostepalvelu.tarjonta.sync.cron={{valintalaskentakoostepalvelu_tarjonta_sync_cron}}
valintalaskentakoostepalvelu.kirjeet.smallBatchMaxConcurrency={{ valintalaskentakoostepalvelu_kirjeet_small_batch_concurrency | default("6") }}
valintalaskentakoostepalvelu.kirjeet.bigBatchMaxConcurrency={{ valintalaskentakoostepalvelu_kirjeet_big_batch_concurrency | default("1") }}
valintalaskentakoostepalvelu.kirjeet.polling.interval.millis=10000
valintalaskentakoostepalvelu.global.http.connectionTimeoutMillis={{valintalaskentakoostepalvelu_global_http_connectiontimeoutmillis}}
valintalaskentakoostepalvelu.global.http.receiveTimeoutMillis={{valintalaskentakoostepalvelu_global_http_receivetimeoutmillis}}
valintalaskentakoostepalvelu.hakuimport.threadpoolsize={{ valintalaskentakoostepalvelu_hakuimport_threadpoolsize | default("10") }}
valintalaskentakoostepalvelu.hakukohdeimport.threadpoolsize={{ valintalaskentakoostepalvelu_hakukohdeimport_threadpoolsize | default("10") }}


valintalaskenta-ui.session-keepalive-interval.seconds=150
valintalaskenta-ui.session-max-idle-time.seconds=1800

#EXCEL EXPORTS
valintalaskenta-ui.valintalaskenta-service-url.excel = https://${host.virkailija}/valintalaskenta-laskenta-service/
valintalaskenta-ui.sijoittelu-service-url.excel = https://${host.virkailija}/sijoittelu-service/


#VALINTALASKENTA-SERVICE
valintalaskenta-laskenta-service.mongodb.dbname=valintalaskentadb
valintalaskenta-laskenta-service.mongodb.uri={{ mongodb_valintalaskentadb_uri | default("${mongodb.virkailija.uri}") }}/${valintalaskenta-laskenta-service.mongodb.dbname}
valintalaskenta-laskenta-service.mongodb.useIndexQueries=true
valintalaskenta-laskenta-service.swagger.basepath=/valintalaskenta-laskenta-service/resources
valintalaskenta-laskenta-service.global.http.connectionTimeoutMillis={{valintalaskentalaskentaservice_global_http_connectiontimeoutmillis}}
valintalaskenta-laskenta-service.global.http.receiveTimeoutMillis={{valintalaskentalaskentaservice_global_http_receivetimeoutmillis}}

#SEURANTA
seuranta.mongodb.dbname=seurantadb
seuranta.mongodb.uri={{ mongodb_seurantadb_uri | default("${mongodb.virkailija.uri}") }}/${seuranta.mongodb.dbname}
valintalaskentakoostepalvelu.seuranta.rest.url=https://${host.virkailija}/seuranta-service/resources
seuranta-service.swagger.basepath=/seuranta-service/resources
seuranta-service.rest.url=https://${host.virkailija}/seuranta-service/resources

#ORGANISAATIO
valintalaskentakoostepalvelu.organisaatio-service-url=https://${host.virkailija}/organisaatio-service
organisaatio.api.rest.url=https://${host.virkailija}/organisaatio-service/rest/


#LOKALISOINTI
valintaperusteet-ui.lokalisointi-service-url=https://${host.virkailija}/lokalisointi/
localisation.rest=https://${host.virkailija}/lokalisointi/cxf/rest/v1


#KELARESURSSI:
valintalaskentakoostepalvelu.rajapinnat.kela-service.rest.url=https://${host.virkailija}/kela-service/resources/

#SECURELINK:
host.haku={{host_haku}}
host.haku.sv={{host_haku_sv}}
host.haku.en={{host_haku_en}}
url-haku=https://${host.haku}
url-haku-en=https://${host.haku.en}
url-haku-sv=https://${host.haku.sv}
omatsivut.email.application.modify.link.en=${url-haku-en}/omatsivut/tuloskirjeet/
omatsivut.email.application.modify.link.fi=${url-haku}/omatsivut/tuloskirjeet/
omatsivut.email.application.modify.link.sv=${url-haku-sv}/omatsivut/tuloskirjeet/
